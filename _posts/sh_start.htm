<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:dt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882"
xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta name="Microsoft Theme 2.00" content="sky 011">
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="sh_start.files/filelist.xml">
<link rel=Edit-Time-Data href="sh_start.files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>新建网页 1</title>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="chsdate"/>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>MC SYSTEM</o:Author>
  <o:LastAuthor>ssti</o:LastAuthor>
  <o:Revision>6</o:Revision>
  <o:TotalTime>9</o:TotalTime>
  <o:Created>2008-02-24T08:05:00Z</o:Created>
  <o:LastSaved>2008-03-25T01:24:00Z</o:LastSaved>
  <o:Pages>2</o:Pages>
  <o:Words>527</o:Words>
  <o:Characters>3007</o:Characters>
  <o:Company>MC SYSTEM</o:Company>
  <o:Lines>25</o:Lines>
  <o:Paragraphs>7</o:Paragraphs>
  <o:CharactersWithSpaces>3527</o:CharactersWithSpaces>
  <o:Version>11.8132</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:DefaultTableStyle Number="155">表格主题</w:DefaultTableStyle>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:Compatibility>
   <w:UseFELayout/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:宋体;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:SimSun;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 135135232 16 0 262145 0;}
@font-face
	{font-family:"\@宋体";
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 135135232 16 0 262145 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.5pt;
	font-family:宋体;
	mso-bidi-font-family:宋体;
	color:#282A55;}
h1
	{mso-style-next:正文;
	margin-top:17.0pt;
	margin-right:0cm;
	margin-bottom:16.5pt;
	margin-left:0cm;
	line-height:240%;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:16.0pt;
	font-family:宋体;
	mso-bidi-font-family:宋体;
	color:#282A55;
	mso-font-kerning:22.0pt;
	font-weight:bold;}
h2
	{mso-style-next:正文;
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:0cm;
	line-height:173%;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:2;
	font-size:14.0pt;
	font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	color:#282A55;
	font-weight:normal;}
h3
	{mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	mso-outline-level:3;
	font-size:13.0pt;
	font-family:宋体;
	mso-bidi-font-family:宋体;
	color:#282A55;
	font-weight:normal;}
h4
	{mso-style-next:正文;
	margin-top:14.0pt;
	margin-right:0cm;
	margin-bottom:14.5pt;
	margin-left:0cm;
	line-height:156%;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:4;
	font-size:14.0pt;
	font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	color:#282A55;
	font-weight:normal;}
h5
	{mso-style-next:正文;
	margin-top:14.0pt;
	margin-right:0cm;
	margin-bottom:14.5pt;
	margin-left:0cm;
	line-height:156%;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:5;
	font-size:13.0pt;
	font-family:宋体;
	mso-bidi-font-family:宋体;
	color:#282A55;
	font-weight:normal;}
h6
	{mso-style-next:正文;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.2pt;
	margin-left:0cm;
	line-height:133%;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:6;
	font-size:11.0pt;
	font-family:宋体;
	mso-bidi-font-family:"Times New Roman";
	color:#282A55;
	font-weight:normal;}
a:link, span.MsoHyperlink
	{color:#3B00CA;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:#093384;
	text-decoration:underline;
	text-underline:single;}
p
	{mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:10.5pt;
	font-family:宋体;
	mso-bidi-font-family:宋体;
	color:#282A55;}
@page Section1
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	mso-header-margin:42.55pt;
	mso-footer-margin:49.6pt;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:普通表格;
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
table.MsoTableTheme
	{mso-style-name:表格主题;
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	border:solid #EEEEF1 1.0pt;
	mso-border-alt:solid #EEEEF1 .5pt;
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-border-insideh:.5pt solid #EEEEF1;
	mso-border-insidev:.5pt solid #EEEEF1;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]-->
<meta http-equiv=Content-Language content=zh-cn>
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="1026"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body bgcolor=white background="sh_start.files/image001.gif" lang=ZH-CN
link="#3B00CA" vlink="#093384" style='tab-interval:21.0pt'>
<!--[if gte mso 9]><xml>
 <v:background id="_x0000_s1025" o:bwmode="white" o:targetscreensize="800,600">
  <v:fill src="sh_start.files/image001.gif" o:title="background_sky" type="frame"/>
 </v:background></xml><![endif]-->

<div class=Section1>

<h3>序：我们现在使用的是什么<span lang=EN-US>shell?</span></h3>

<h3>一<span lang=EN-US>. shell</span>分类</h3>

<p>几种常见<span lang=EN-US>shell</span>简介</p>

<p style='text-indent:24.0pt'><span lang=EN-US>Linux</span>系统提供多种不同的<span
lang=EN-US>Shell</span>以供选择。常用的有<span lang=EN-US>Bourne Shell</span>（简称<span
lang=EN-US>sh</span>）、<span lang=EN-US>C-Shelll</span>（简称<span lang=EN-US>csh</span>）、<span
lang=EN-US>Korn Shell</span>（简称<span lang=EN-US>ksh</span>）和<span lang=EN-US>Bourne
Again Shell (</span>简称<span lang=EN-US>bash)</span>。</p>

<p style='text-indent:24.0pt'><span lang=EN-US>(1)Bourne Shell</span>是<span
lang=EN-US>AT&amp;T Bell</span>实验室的<span lang=EN-US> Steven Bourne</span>为<span
lang=EN-US>AT&amp;T</span>的<span lang=EN-US>Unix</span>开发的，它是<span lang=EN-US>Unix</span>的默认<span
lang=EN-US>Shell</span>，也是其它<span lang=EN-US>Shell</span>的开发基础。<span
lang=EN-US>Bourne Shell</span>在编程方面相当优秀，但在处理与用户的交互方面不如其它几种<span lang=EN-US>Shell</span>。　　</p>

<p>　　<span lang=EN-US>(2)C Shell</span>是加州伯克利大学的<span lang=EN-US>Bill Joy</span>为<span
lang=EN-US>BSD Unix</span>开发的，与<span lang=EN-US>sh</span>不同，它的语法与<span
lang=EN-US>C</span>语言很相似。它提供了<span lang=EN-US>Bourne Shell</span>所不能处理的用户交互特征，如命令补全、命令别名、历史命令替换等。但是，<span
lang=EN-US>C Shell</span>与<span lang=EN-US>BourneShell</span>并不兼容。　　</p>

<p>　　<span lang=EN-US>(3)Korn Shell</span>是<span lang=EN-US>AT&amp;T Bell</span>实验室的<span
lang=EN-US>David Korn</span>开发的，它集合了<span lang=EN-US>C Shell</span>和<span
lang=EN-US>Bourne Shell</span>的优点，并且与<span lang=EN-US>Bourne Shell</span>向下完全兼容。<span
lang=EN-US>Korn Shell</span>的效率很高，其命令交互界面和编程交互界面都很好。　　</p>

<p>　　<span lang=EN-US>(4)Bourne Again Shell (</span>即<span lang=EN-US>bash)</span>是自由软件基金会<span
lang=EN-US>(GNU)</span>开发的一个<span lang=EN-US>Shell</span>，它是<span lang=EN-US>Linux</span>系统中一个默认的<span
lang=EN-US>Shell</span>。<span lang=EN-US>Bash</span>不但与<span lang=EN-US>Bourne
Shell</span>兼容，还继承了<span lang=EN-US>C Shell</span>、<span lang=EN-US>Korn Shell</span>等优点。</p>

<h3>二<span lang=EN-US>. </span>一个<span lang=EN-US>Bash</span>例程</h3>

<blockquote style='margin-top:5.0pt;margin-bottom:5.0pt'>

<p><span lang=EN-US>1. </span>编写并保存以下代码</p>

<div class=MsoNormal align=center style='text-align:center'><span lang=EN-US><!--[if gte vml 1]><v:shapetype
 id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t"
 path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1034" type="#_x0000_t75" style='width:420.75pt;
 height:8.25pt' o:hrpct="0" o:hralign="center" o:hr="t">
 <v:imagedata src="sh_start.files/image002.gif" o:title="rule_sky"/>
</v:shape><![endif]--><![if !vml]><img height=11 width=561
src="sh_start.files/image002.gif" alt=--- v:shapes="_x0000_i1034"><![endif]></span></div>

<p><b><span style='color:blue'>例程<span lang=EN-US> 1.1&nbsp; </span>清空日志文件</span></b></p>

<p><b><span lang=EN-US style='font-size:10.0pt'>#!/bin/bash <br>
# </span></b><b><span style='font-size:10.0pt'>一个<span lang=EN-US>Bash</span>脚本的正确的开头部分<span
lang=EN-US>. <br>
LOG_DIR=/var/log <br>
# </span>如果使用变量<span lang=EN-US>,</span>当然比把代码写死的好<span lang=EN-US>. <br>
cd $LOG_DIR <br>
cat /dev/null &gt; messages <br>
cat /dev/null &gt; wtmp <br>
echo &quot;Logs cleaned up.&quot; <br>
exit # </span>这个命令是一种正确并且合适的退出脚本的方法<span lang=EN-US>.</span></span></b></p>

<div class=MsoNormal align=center style='text-align:center'><span lang=EN-US><!--[if gte vml 1]><v:shape
 id="_x0000_i1036" type="#_x0000_t75" style='width:420.75pt;height:8.25pt'
 o:hrpct="0" o:hralign="center" o:hr="t">
 <v:imagedata src="sh_start.files/image002.gif" o:title="rule_sky"/>
</v:shape><![endif]--><![if !vml]><img height=11 width=561
src="sh_start.files/image002.gif" alt=--- v:shapes="_x0000_i1036"><![endif]></span></div>

<p><b><span style='color:blue'>例程<span lang=EN-US> 1.2&nbsp; </span>以下是上面例程的改进代码段</span></b></p>

<div class=MsoNormal align=center style='text-align:center'><span lang=EN-US><!--[if gte vml 1]><v:shape
 id="_x0000_i1038" type="#_x0000_t75" style='width:420.75pt;height:8.25pt'
 o:hrpct="0" o:hralign="center" o:hr="t">
 <v:imagedata src="sh_start.files/image002.gif" o:title="rule_sky"/>
</v:shape><![endif]--><![if !vml]><img height=11 width=561
src="sh_start.files/image002.gif" alt=--- v:shapes="_x0000_i1038"><![endif]></span></div>

<p><b><span lang=EN-US style='font-size:10.0pt'>1 #!/bin/bash <br>
2 # </span></b><b><span style='font-size:10.0pt'>清除<span lang=EN-US>, </span>版本<span
lang=EN-US> 3 <br>
3 <br>
4 # </span>警告<span lang=EN-US>: <br>
5 # ----- <br>
6 # </span>这个脚本有好多特征<span lang=EN-US>, <br>
7 #+ </span>这些特征是在后边章节进行解释的<span lang=EN-US>. <br>
8 # </span>大概是进行到本书的一半的时候<span lang=EN-US>, <br>
9 #+ </span>你就会觉得它没有什么神秘的了<span lang=EN-US>. <br>
10 <br>
11 <br>
12 <br>
13 LOG_DIR=/var/log <br>
14 ROOT_UID=0 # $UID</span>为<span lang=EN-US>0</span>的时候<span lang=EN-US>,</span>用户才具有<span
lang=EN-US>root</span>用户的权限<span lang=EN-US> <br>
15 LINES=50 # </span>默认的保存行数<span lang=EN-US> <br>
16 E_XCD=66 # </span>不能修改目录<span lang=EN-US>? <br>
17 E_NOTROOT=67 # </span>非<span lang=EN-US>root</span>用户将以<span lang=EN-US>error</span>退出<span
lang=EN-US> <br>
18 <br>
19 <br>
20 # </span>当然要使用<span lang=EN-US>root</span>用户来运行<span lang=EN-US>. <br>
21 if [ &quot;$UID&quot; -ne &quot;$ROOT_UID&quot; ] <br>
22 then <br>
23 echo &quot;Must be root to run this script.&quot; <br>
24 exit $E_NOTROOT <br>
25 fi <br>
26 <br>
27 if [ -n &quot;$1&quot; ] <br>
28 # </span>测试是否有命令行参数<span lang=EN-US>(</span>非空<span lang=EN-US>). <br>
29 then <br>
30 lines=$1 <br>
31 else <br>
32 lines=$LINES # </span>默认<span lang=EN-US>,</span>如果不在命令行中指定<span lang=EN-US>.
<br>
33 fi <br>
34 <br>
35 <br>
36 # Stephane Chazelas </span>建议使用下边<span lang=EN-US> <br>
37 #+ </span>的更好方法来检测命令行参数<span lang=EN-US>. <br>
38 #+ </span>但对于这章来说还是有点超前<span lang=EN-US>. <br>
39 # <br>
40 # E_WRONGARGS=65 # </span>非数值参数<span lang=EN-US>(</span>错误的参数格式<span
lang=EN-US>) <br>
41 # <br>
42 # case &quot;$1&quot; in <br>
43 # &quot;&quot; ) lines=50;; <br>
44 # *[!0-9]*) echo &quot;Usage: `basename $0` file-to-cleanup&quot;; exit
$E_WRONGARGS;; <br>
45 # * ) lines=$1;; <br>
46 # esac <br>
47 # <br>
48 #* </span>直到<span lang=EN-US>&quot;Loops&quot;</span>的章节才会对上边的内容进行详细的描述<span
lang=EN-US>. <br>
49 <br>
50 <br>
51 cd $LOG_DIR <br>
52 <br>
53 if [ `pwd` != &quot;$LOG_DIR&quot; ] # </span>或者<span lang=EN-US> if[
&quot;$PWD&quot; != &quot;$LOG_DIR&quot; ] <br>
54 # </span>不在<span lang=EN-US> /var/log</span>中<span lang=EN-US>? <br>
55 then <br>
56 echo &quot;Can't change to $LOG_DIR.&quot; <br>
57 exit $E_XCD <br>
58 fi # </span>在处理<span lang=EN-US>log file</span>之前<span lang=EN-US>,</span>再确认一遍当前目录是否正确<span
lang=EN-US>. <br>
59 <br>
60 # </span>更有效率的做法是<span lang=EN-US>: <br>
61 # <br>
62 # cd /var/log || { <br>
63 # echo &quot;Cannot change to necessary directory.&quot; &gt;&amp;2 <br>
64 # exit $E_XCD; <br>
65 # } <br>
66 <br>
67 <br>
68 <br>
69 <br>
70 tail -$lines messages &gt; mesg.temp # </span>保存<span lang=EN-US>log file</span>消息的最后部分<span
lang=EN-US>. <br>
71 mv mesg.temp messages # </span>变为新的<span lang=EN-US>log</span>目录<span
lang=EN-US>. <br>
72 <br>
73 <br>
74 # cat /dev/null &gt; messages <br>
75 #* </span>不再需要了<span lang=EN-US>,</span>使用上边的方法更安全<span lang=EN-US>. <br>
76 <br>
77 cat /dev/null &gt; wtmp # ': &gt; wtmp' </span>和<span lang=EN-US> '&gt;
wtmp'</span>具有相同的作用<span lang=EN-US> <br>
78 echo &quot;Logs cleaned up.&quot; <br>
79 <br>
80 exit 0 <br>
81 # </span>退出之前返回<span lang=EN-US>0, <br>
82 #+ </span>返回<span lang=EN-US>0</span>表示成功<span lang=EN-US>.</span></span></b></p>

<div class=MsoNormal align=center style='text-align:center'><span lang=EN-US><!--[if gte vml 1]><v:shape
 id="_x0000_i1040" type="#_x0000_t75" style='width:420.75pt;height:8.25pt'
 o:hrpct="0" o:hralign="center" o:hr="t">
 <v:imagedata src="sh_start.files/image002.gif" o:title="rule_sky"/>
</v:shape><![endif]--><![if !vml]><img height=11 width=561
src="sh_start.files/image002.gif" alt=--- v:shapes="_x0000_i1040"><![endif]></span></div>

<p><b><span style='color:blue'>例程<span lang=EN-US> 1.3 </span>显示日期、时间</span></b></p>

<div class=MsoNormal align=center style='text-align:center'><span lang=EN-US><!--[if gte vml 1]><v:shape
 id="_x0000_i1042" type="#_x0000_t75" style='width:420.75pt;height:8.25pt'
 o:hrpct="0" o:hralign="center" o:hr="t">
 <v:imagedata src="sh_start.files/image002.gif" o:title="rule_sky"/>
</v:shape><![endif]--><![if !vml]><img height=11 width=561
src="sh_start.files/image002.gif" alt=--- v:shapes="_x0000_i1042"><![endif]></span></div>

<p><b><span lang=EN-US style='font-size:10.0pt'>1 #!/bin/bash<br>
2 # </span></b><b><span style='font-size:10.0pt'>练习<span lang=EN-US>'date'</span>命令<span
lang=EN-US><br>
3 <br>
4 echo &quot;The number of days since the year's beginning is `date +%j`.&quot;<br>
5 # </span>需要在调用格式的前边加上一个<span lang=EN-US>'+'</span>号<span lang=EN-US>.<br>
6 # %j</span>用来给出今天是本年度的第几天<span lang=EN-US>. <br>
7 <br>
8 echo &quot;The number of seconds elapsed since <st1:chsdate Year="1970"
Month="1" Day="1" IsLunarDate="False" IsROCDate="False" w:st="on">01/01/1970</st1:chsdate>
is `date +%s`.&quot;<br>
9 # %s</span>将产生从<span lang=EN-US>&quot;UNIX </span>元年<span lang=EN-US>&quot;</span>到现在为止的秒数<span
lang=EN-US>,<br>
10 #+ </span>但是这东西现在还有用么<span lang=EN-US>?<br>
11 <br>
12 prefix=temp<br>
13 suffix=$(date +%s) # 'date'</span>命令的<span lang=EN-US>&quot;+%s&quot;</span>选项是<span
lang=EN-US>GNU</span>特性<span lang=EN-US>.<br>
14 filename=$prefix.$suffix<br>
15 echo $filename<br>
16 # </span>这是一种非常好的产生<span lang=EN-US>&quot;</span>唯一<span lang=EN-US>&quot;</span>临时文件的办法<span
lang=EN-US>,<br>
17 #+ </span>甚至比使用<span lang=EN-US>$$</span>都强<span lang=EN-US>.<br>
18 <br>
19 # </span>如果想了解<span lang=EN-US>'date'</span>命令的更多选项<span lang=EN-US>, </span>请查阅这个命令的<span
lang=EN-US>man</span>页<span lang=EN-US>.<br>
20 <br>
21 exit 0</span></span></b></p>

<div class=MsoNormal align=center style='text-align:center'><span lang=EN-US><!--[if gte vml 1]><v:shape
 id="_x0000_i1044" type="#_x0000_t75" style='width:420.75pt;height:8.25pt'
 o:hrpct="0" o:hralign="center" o:hr="t">
 <v:imagedata src="sh_start.files/image002.gif" o:title="rule_sky"/>
</v:shape><![endif]--><![if !vml]><img height=11 width=561
src="sh_start.files/image002.gif" alt=--- v:shapes="_x0000_i1044"><![endif]></span></div>

<p><span lang=EN-US>2. </span>执行</p>

<p>编写完脚本之后<span lang=EN-US>,</span>你可以使用<span lang=EN-US>sh scriptname, [1] </span>或者<span
lang=EN-US>bash scriptname</span>来调用这个脚本<span lang=EN-US>. (</span>不推荐使用<span
lang=EN-US>sh &lt;scriptname, </span>因为这禁用了脚本从<span lang=EN-US>stdin</span>中读数据的功能<span
lang=EN-US>. ) </span>更方便的方法是让脚本本身就具有可执行权限<span lang=EN-US>, </span>通过<span
lang=EN-US>chmod</span>命令可以修改<span lang=EN-US>. </span></p>

<p>比如<span lang=EN-US>: </span></p>

<p><b><span lang=EN-US>chmod 555 <i>scriptname</i> </span></b><span lang=EN-US>(</span>允许任何人都具有可读和执行权限<span
lang=EN-US>) [2] </span>或者<span lang=EN-US> chmod +rx scriptname (</span>允许任何人都具有可读和执行权限<span
lang=EN-US>) </span></p>

<p><b><span lang=EN-US>chmod u+rx <i>scriptname</i></span></b><span lang=EN-US>
(</span>只给脚本的所有者可读和执行权限<span lang=EN-US>) </span></p>

<p>既然脚本已经具有了可执行权限<span lang=EN-US>,</span>现在你可以使用：</p>

<p><b><span lang=EN-US>./<i>scriptname </i></span></b></p>

<p>来测试这个脚本了<span lang=EN-US>. </span>如果这个脚本以一个<span lang=EN-US>&quot;#</span>！<span
lang=EN-US>&quot;</span>行开头<span lang=EN-US>, </span>那么脚本将会调用合适的命令解释器来运行<span
lang=EN-US>. </span></p>

<p>　</p>

</blockquote>

<h3>三<span lang=EN-US>. </span>一个<span lang=EN-US>TC Shell</span>例程</h3>

<p class=MsoNormal><b><span style='color:blue'>例<span lang=EN-US>1:</span>变量定义与从键盘输入变量的值</span></b></p>

<div class=MsoNormal align=center style='text-align:center'><span lang=EN-US><!--[if gte vml 1]><v:shape
 id="_x0000_i1046" type="#_x0000_t75" style='width:420.75pt;height:8.25pt'
 o:hrpct="0" o:hralign="center" o:hr="t">
 <v:imagedata src="sh_start.files/image002.gif" o:title="rule_sky"/>
</v:shape><![endif]--><![if !vml]><img height=11 width=561
src="sh_start.files/image002.gif" alt=--- v:shapes="_x0000_i1046"><![endif]></span></div>

<p style='margin-left:21.0pt;mso-para-margin-left:2.0gd'><b><span lang=EN-US
style='font-size:10.0pt'>#!/bin/tcsh <br>
set var_new = &quot;hahaha lolo&quot;<br>
echo vbvbvb<span style='mso-spacerun:yes'>&nbsp; </span>$var_new<br>
set var_b=$&lt;<br>
echo &quot;user input $var_b&quot;......<o:p></o:p></span></b></p>

<div class=MsoNormal align=center style='text-align:center'><span lang=EN-US><!--[if gte vml 1]><v:shape
 id="_x0000_i1048" type="#_x0000_t75" style='width:420.75pt;height:8.25pt'
 o:hrpct="0" o:hralign="center" o:hr="t">
 <v:imagedata src="sh_start.files/image002.gif" o:title="rule_sky"/>
</v:shape><![endif]--><![if !vml]><img height=11 width=561
src="sh_start.files/image002.gif" alt=--- v:shapes="_x0000_i1048"><![endif]></span></div>

<p class=MsoNormal>注意<span lang=EN-US>:</span>执行时应使用以下方式<span lang=EN-US>:</span></p>

<p class=MsoNormal><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/bin/tcsh
<i style='mso-bidi-font-style:normal'>scriptname</i></span></p>

</div>

</body>

</html>
